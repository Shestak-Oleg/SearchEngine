# Поисковый движок (Search Engine)

Консольное приложение для индексирования документов и поиска по ним с конфигурацией и запросами в формате JSON.

---

## Описание проекта

Данный поисковый движок предназначен для эффективного индексирования текстовых файлов и быстрого поиска по ним. Работа движка организована в формате консольного приложения, которое запускается и производит поиск по документам, указанным в конфигурационном файле.

Решения, применённые в данном проекте, позволяют в дальнейшем интегрировать поисковый модуль в веб-приложения и другие системы.

---

## Принципы работы

1. **Конфигурация через JSON**  
   Перед запуском движка в конфигурационном файле (`config.json`) задаются пути к документам для индексирования и максимальное количество результатов, выдаваемых на один поисковый запрос.

2. **Индексация документов**  
   Поисковый движок самостоятельно перебирает все указанные файлы, очищает, нормализует и индексирует содержимое, создавая обратный индекс, хранящий информацию о том, в каких документах встречаются те или иные слова.

3. **Получение запросов из JSON**  
   Пользователь формирует запросы в файле `requests.json` — каждый запрос содержит набор слов для поиска.

4. **Обработка поисковых запросов**  
   Запросы разбиваются на отдельные слова, после чего движок ищет документы, содержащие все слова запроса.

5. **Ранжирование и сортировка результатов**  
   Найденные документы ранжируются по релевантности, сортируются и ограничиваются по количеству, указанному в конфиге.

6. **Формирование ответа**  
   По итогам обработки всех запросов создаётся файл `answers.json`, в который записываются результаты поиска в удобном для чтения формате.

---

## Структура проекта

/Search_Engine ├── config/ # Входные конфигурационные файлы │ ├── config.json # Основной конфигурационный файл │ └── requests.json # Файл с поисковыми запросами ├── include/ # Заголовочные файлы │ ├── converter.h # Заголовок для модуля преобразования JSON │ ├── index.h # Заголовок для модуля индексирования │ └── search.h # Заголовок для модуля поиска ├── src/ # Исходные файлы реализации │ ├── converter.cpp # Реализация функций преобразования JSON │ ├── index.cpp # Реализация модуля индексирования │ ├── search.cpp # Реализация поиска и обработки запросов │ └── main.cpp # Точка входа в программу ├── resource/ # Папка с исходными текстовыми файлами для поиска │ ├── file001.txt │ ├── file002.txt │ └── ... # Другие документы ├── tests/ # Тесты модулей (юнит-тесты) │ ├── index_tests.cpp # Тесты для класса InvertedIndex │ ├── search_server.cpp # Тесты для класса SearchServer │ └── ... # Другие тестовые файлы └── README.md # Документация проекта

---

## Примеры конфигурационных файлов

Формат файла запросов config.json
json

{
"config": {
"name": "MySearchEngine", //название программы
"version": "0.1", //версия
"max_responses": 5, //максимальное число ответов
"reindex_period": "24h"
},
"files": [
"./resource/file001.txt",
"./resource/file002.txt",
"./resource/file003.txt",
"./resource/file004.txt"
]
}

Формат файла запросов requests.json
json

{
"requests": [
"пример запроса",
"другой пример"
]
}
Каждый запрос — это строка с одним или несколькими словами, разделёнными пробелами.
Слова должны состоять из строчных латинских букв (a-z).

Формат файла ответов answers.json
json

{
"answers": {
"request001": {
"result": true,
"relevance": [
{ "doc_id": 2, "rank": 10 },
{ "doc_id": 5, "rank": 7 }
]
},
"request002": {
"result": false
}
}
}
requestXXX — уникальный идентификатор запроса.
result: true — найдены релевантные документы.
relevance — массив найденных документов, отсортированных по убыванию релевантности.
Если документы не найдены, result: false.

---

## Система сборки (CMake)

Для управления сборкой проекта используется CMake. Это обеспечивает кроссплатформенность и удобное управление зависимостями.

### Основные файлы конфигурации:

- `CMakeLists.txt` — главный файл сборки проекта, включающий исходники, заголовки, внешние библиотеки и тесты.
- `tests/CMakeLists.txt` — отдельный файл для сборки тестов.

---

## Unit-тестирование

В проекте реализованы модульные тесты для ключевых компонентов:

- **InvertedIndex** — тесты обеспечивают проверку корректности индексирования документов, добавления и поиска слов.
- **SearchServer** — проверяется логика обработки поисковых запросов, ранжирования и формирования ответов.

Тесты расположены в папке `tests/` и написаны с использованием фреймворка [Google Test](https://github.com/google/googletest), что обеспечивает высокую надёжность и читаемость.

Для запуска тестов:

1. Сборка проекта с тестами через CMake.
2. Запуск исполняемого файла тестов — он автоматически выполнит все тестовые сценарии и выведет результаты.

---

## Запуск и использование

Подготовьте конфигурационный файл config.json с нужными настройками и списком файлов для поиска.

Разместите документы для индексирования в указанных местах или укажите абсолютные пути.

Подготовьте файл запросов requests.json.

Запустите исполняемый файл поискового движка: ./Search_Engine

После завершения работы в файле answers.json появятся результаты поиска по всем запросам.

---

## Особенности и возможности

Работа с файлами формата JSON для конфигурации и обмена данными.

Параллельная индексация документов для ускорения обработки.

Гибкая настройка через конфигурационный файл.

Простой и понятный формат запросов и ответов.

Возможность расширения и интеграции в веб-приложения.

---

## Требования

Компилятор с поддержкой C++17 и выше.

Библиотека nlohmann/json для работы с JSON.

Операционная система: Windows

---

## Контакты и поддержка

Если у вас возникли вопросы, предложения или пожелания — пожалуйста, откройте issue в репозитории проекта или напишите на email: shestak_oleg92@mail.ru.

**Спасибо за интерес к проекту!**